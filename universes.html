<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les Univers Professionnels - Orientation 360 IA</title>
    <link rel="stylesheet" href="universes-style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-btn">‚Üê Retour</a>
            <h1>üåê Les Univers Professionnels</h1>
            <button class="show-all-btn" onclick="toggleAllSubUniverses()">
                üìã Afficher tous les sous-univers
            </button>
        </div>
        
        <div class="universes-grid" id="universesGrid"></div>
    </div>

    <!-- Modal pour afficher la d√©finition -->
    <div class="modal" id="definitionModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h3 id="modalTitle"></h3>
            <p id="modalDescription"></p>
        </div>
    </div>

    <script src="universes-data.js"></script>
    <script>
        var allSubUniversesVisible = false;

        function renderUniverses() {
            var grid = document.getElementById('universesGrid');
            var html = '';
            
            for (var i = 0; i < universesData.length; i++) {
                var universe = universesData[i];
                var subHtml = '';
                
                for (var j = 0; j < universe.subUniverses.length; j++) {
                    var sub = universe.subUniverses[j];
                    subHtml += '<div class="sub-universe-item" onclick="showDefinition(\'' + 
                        sub.name.replace(/'/g, "\\'") + '\')">' +
                        '<span class="sub-universe-emoji">' + sub.emoji + '</span>' +
                        '<span>' + sub.name + '</span>' +
                    '</div>';
                }
                
                html += '<div class="universe-card">' +
                    '<div class="universe-image">' + universe.icon + '</div>' +
                    '<div class="universe-content">' +
                        '<div class="universe-name">' + universe.name + '</div>' +
                        '<div class="universe-description">' + universe.description + '</div>' +
                    '</div>' +
                    '<div class="sub-universes" id="sub-' + i + '">' +
                        '<div class="sub-universes-content">' + subHtml + '</div>' +
                    '</div>' +
                '</div>';
            }
            
            grid.innerHTML = html;
        }

        function toggleAllSubUniverses() {
            allSubUniversesVisible = !allSubUniversesVisible;
            var button = document.querySelector('.show-all-btn');
            
            for (var i = 0; i < universesData.length; i++) {
                var subDiv = document.getElementById('sub-' + i);
                
                if (allSubUniversesVisible) {
                    subDiv.classList.add('open');
                } else {
                    subDiv.classList.remove('open');
                }
            }
            
            button.textContent = allSubUniversesVisible ? 
                'üìã Masquer tous les sous-univers' : 
                'üìã Afficher tous les sous-univers';
        }

        function showDefinition(subUniverseName) {
            var definition = subUniverseDefinitions[subUniverseName];
            if (definition) {
                document.getElementById('modalTitle').textContent = subUniverseName;
                document.getElementById('modalDescription').textContent = definition;
                document.getElementById('definitionModal').style.display = 'block';
            }
        }

        function closeModal() {
            document.getElementById('definitionModal').style.display = 'none';
        }

        // Fermer le modal en cliquant √† l'ext√©rieur
        window.onclick = function(event) {
            var modal = document.getElementById('definitionModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', renderUniverses);
        } else {
            renderUniverses();
        }
    </script>
</body>
</html>
